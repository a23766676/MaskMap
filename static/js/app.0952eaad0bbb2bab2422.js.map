{"version":3,"sources":["webpack:///./src/assets/images/map-marker-current.svg","webpack:///./src/App.vue?d3fc","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?e146","webpack:///./src/components/Map.vue","webpack:///./src/components/Slider/Item.vue?1a00","webpack:///./src/components/Slider/Item.vue","webpack:///src/components/Sider.vue","webpack:///src/components/Slider/Item.vue","webpack:///./src/components/Sider.vue?1601","webpack:///./src/components/Sider.vue","webpack:///src/components/Home.vue","webpack:///./src/components/Home.vue?3bcd","webpack:///./src/components/Home.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/assets/images/map-marker-many.svg","webpack:///./src/assets/images ^\\.\\/.*$","webpack:///./src/assets/images/map-marker-zero.svg","webpack:///./src/assets/images/map-marker-less.svg","webpack:///./src/assets/images/close.svg"],"names":["module","exports","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","_symbolFile","currentPosition","stores","many","less","zero","_options","url","_graphicLayerSetting","storesGraphicLayer","layer","index","currentPositionGraphicLayer","components_Map","defineProperty_default","props","data","graphics","map","screenUtils","graphicLayers","watch","searchPoint","point","graphicLayer","clear","addPointGraphic","centerAndZoom","alert","storeId","graphic","find","attributes","properties","openInfoWindow","toScreenPoint","extent","width","height","geometry","result","vue","forEach","store","type","getType","parseInt","mask_adult","coordinates","then","push","methods","created","_this","esri_loader_default","a","loadModules","_ref","_ref2","slicedToArray_default","Map","WebTiledLayer","GraphicsLayer","LocateButton","center","basemap","logo","fadeOnZoom","minZoom","maxZoom","initBasemap","slimGraphicLayers","addGraphicLayersToMap","addGraphicLayersEvent","addEventListener","addCurrentPoint","reason","console","log","mounted","setLevel","addLayer","graphicLayerSetting","prop","orderByGraphicLayersByIndex","item","on","setMapCursor","$emit","evt","mapPoint","toMapPoint","screenPoint","sort","b","goBackCurrentPoint","navigator","geolocation","getCurrentPosition","position","coords","longitude","latitude","e","message","timeout","enableHighAcuracy","graphicAttributes","content","address","phoneString","phone","split","replace","mask_child","updated","infoWindow","setTitle","setContent","show","getInfoWindowAnchor","centerAt","amount","defer","vue_deferred_umd_default","fileName","getSymbolFileName","_ref3","_ref4","Point","Graphic","PictureMarkerSymbol","xoffset","yoffset","resolve","promise","createPointGraphic","add","selectortype_template_index_0_src_components_Map","staticClass","icon","click","src_components_Map","Map_normalizeComponent","Slider_Item","_vm","$event","clickTitle","_v","_s","target","href","phobeNumber","Sider","countValue","count","searchValue","components","vItem","Item_normalizeComponent","computed","closeSider","handleItemCallback","changeCount","clickSearchAdrress","value","exec","config","oAPPId","oAPIKey","oAddress","oSRS","oFuzzyType","oResultDataType","oReturnMaxCount","$http","post","responese","latAndLon","Number","components_Sider","directives","rawName","expression","placeholder","domProps","input","composing","keyup","indexOf","_k","keyCode","key","change","$$selectedVal","Array","prototype","filter","call","options","o","selected","_value","multiple","_l","clickStoreNameAfter","src_components_Sider","Sider_normalizeComponent","_searchApiUrl","vh","window","innerHeight","document","documentElement","style","setProperty","Home","vMap","vSider","showSider","screen","get","response","filterStores","features","compare","slice","catch","error","clickSiderIcon","handleSiderCallback","handleMapCallback","changeCountAfter","clickSearchAfter","xmin","xmax","ymin","ymax","pointMin","Object","lib","pointMax","y","x","isPass","propertyName1","propertyName2","object1","object2","value1","value2","components_Home","should-render","callback","src_components_Home","Home_normalizeComponent","Vue","use","Router","router","routes","path","component","library","faExclamationTriangle","faSearch","faMapMarker","faUndoAlt","FontAwesomeIcon","productionTip","VueAxios","axios","el","App","template","./close.svg","./map-marker-current.svg","./map-marker-less.svg","./map-marker-many.svg","./map-marker-zero.svg","webpackContext","req","webpackContextResolve","Error","keys"],"mappings":"4DAAAA,EAAAC,QAAA,0xBCGeC,GADEC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,oBAE5GI,oBCCjB,IAuBeC,EAvBUC,EAAQ,OAcjCC,ECTAC,KAAA,ODWEb,GATF,EAVA,SAAAc,GACEH,EAAQ,SAaV,KAEA,MAUgC,wGEfhCI,GACAC,gBAAA,yBACAC,QACAC,KAAA,sBACAC,KAAA,sBACAC,KAAA,wBAGAC,GACAC,IAAA,+BAEAC,GACAC,oBAAAC,MAAA,KAAAC,MAAA,GACAC,6BACAF,MAAA,KACAC,MAAA,IAGeE,EAAAC,GAAA,EACfC,OAAA,kCACAC,KAAA,WACA,OACAC,YACAC,IAAA,KACAC,YAAA,KACAC,cAAA,OAGAC,OACAC,YAAA,SAAAC,GACA,GAAAA,EAAA,IAAAA,EAAA,IACA,IAAAC,EAAApC,KAAAgC,cAAAR,4BACAY,EAAAC,QACAC,EAAAtC,KAAA8B,IAAA,UAAAK,EAAAC,GACApC,KAAA8B,IAAAS,cAAAJ,EAAA,SAEAK,MAAA,oBAGAC,QAAA,SAAApC,GACA,IAAAyB,EAAA9B,KAAA8B,IACAY,EAAA1C,KAAA6B,SAAAc,KAAA,SAAAD,GACA,OAAAA,EAAAE,WAAAC,WAAAxC,SAQAyC,EAAAhB,EAAAY,EANA1C,KAAA+B,YAAAgB,cACAjB,EAAAkB,OACAlB,EAAAmB,MACAnB,EAAAoB,OACAR,EAAAS,UAEAT,EAAAS,WAEArC,OAAA,SAAAsC,GACA,IAAAC,EAAArD,KACAqD,EAAAxB,YACA,IAAAO,EAAAiB,EAAArB,cAAAX,mBACAe,EAAAC,QACAe,EAAAE,QAAA,SAAAC,GACA,IAAAC,EAAAC,EAAAC,SAAAH,EAAAV,WAAAc,aACArB,EACAR,IACA0B,EACAD,EAAAJ,SAAAS,YACAxB,GACAyB,KAAA,SAAAnB,GACAA,EAAAE,WAAAW,EACAF,EAAAxB,SAAAiC,KAAApB,SAKAqB,WACAC,QAtDA,WAsDA,IAAAC,EAAAjE,KACIkE,EAAAC,EACJC,aAEA,WACA,4BACA,4BACA,4BACA,2BAEAlD,GAEA2C,KACA,SAAAQ,GAAA,IAAAC,EAAAC,IAAAF,EAAA,GAAAG,EAAAF,EAAA,GAAAG,EAAAH,EAAA,GAAAI,EAAAJ,EAAA,GAAAvC,EAAAuC,EAAA,GAAAK,EAAAL,EAAA,GACAL,EAAAnC,IAAA,IAAA0C,EAAA,OACAI,QAAA,iBACAC,QAAA,OACAC,MAAA,EACAC,YAAA,EACAC,QAAA,EACAC,QAAA,KAEAhB,EAAAiB,YAAAjB,EAAAnC,IAAA2C,GACAR,EAAAjC,cAAAiC,EAAAkB,kBACA/D,EACAsD,GAEAT,EAAAmB,sBAAAnB,EAAAnC,IAAAV,GACA6C,EAAAoB,sBAAApB,EAAAnC,IAAAmC,EAAAjC,eACAiC,EAAAqB,iBAAArB,GACAA,EAAAlC,cACA,IAAAsB,EAAAY,EACA7B,EAAA6B,EAAAjC,cAAAR,4BACA+D,EAAAlC,EAAAvB,IAAAM,EAAAuC,IAEA,SAAAa,GACAC,QAAAC,IAAAF,MAIAG,QA9FA,yBAgGAlC,UACAnB,kBACAiD,kBACAL,YAyCA,SAAApD,EAAA2C,GACA3C,EAAA8D,SAAA,IACA,IAAAtE,EAAA,IAAAmD,EACA,qMAEA3C,EAAA+D,SAAAvE,IA7CA6D,kBA+CA,SAAAW,EAAApB,GACA,IAAAtB,KACA,QAAA2C,KAAAD,EACAA,EAAAC,GAAAzE,MAAA,IAAAoD,EACAtB,EAAA2C,GAAAD,EAAAC,GAAAzE,MAGA,OAAA8B,GArDAgC,sBAuDA,SAAAtD,EAAAgE,GACA9F,KAAAgG,4BAAAF,GACAxC,QAAA,SAAA2C,GACA,IAAA7D,EAAA0D,EAAAG,EAAAvF,MACAoB,EAAA+D,SAAAzD,EAAAd,MAAAc,EAAAb,UA1DA8D,sBA6EA,SAAAvD,EAAAE,GACAA,EAAAX,mBAAA6E,GAAA,wBACApE,EAAAqE,aAAA,aAEAnE,EAAAX,mBAAA6E,GAAA,uBACApE,EAAAqE,aAAA,cAjFAb,iBA4DA,SAAAjC,GACA,IAAAvB,EAAAuB,EAAAvB,IACAA,EAAAoE,GAAA,yBAAAtE,GACAyB,EAAA+C,MAAA,WAAAxE,EAAAoB,UAEAhD,KAAAgC,cAAAX,mBAAA6E,GAAA,iBAAAG,GACA,IAAA3D,EAAA2D,EAAA3D,QACA4D,EAAAjD,EAAAtB,YAAAwE,WACAzE,EAAAkB,OACAlB,EAAAmB,MACAnB,EAAAoB,OACAmD,EAAAG,aAEA1D,EAAAhB,EAAAY,EAAA2D,EAAAG,YAAAF,MAxEAN,4BAoFA,SAAAF,GACA,IAAA1C,KACA,QAAA2C,KAAAD,EACA1C,EAAAU,MACApD,KAAAqF,EACAxE,MAAAuE,EAAAC,GAAAxE,QAOA,OAJA6B,EAAAqD,KAAA,SAAAtC,EAAAuC,GACA,OAAAvC,EAAA5C,MAAAmF,EAAAnF,QAGA6B,GA/FAuD,mBAAA,WACA,IAAAvE,EAAApC,KAAAgC,cAAAR,4BACA+D,EAAAvF,KAAA8B,IAAAM,MAKA,SAAAmD,EAAAzD,EAAAM,EAAAuC,GAYA,GADAvC,EAAAC,QACAuE,UAAAC,YAAA,CAGAD,UAAAC,YAAAC,mBACA,SAAAC,GACA,IAAAnC,GAAAmC,EAAAC,OAAAC,UAAAF,EAAAC,OAAAE,UACApF,EAAAS,cAAAqC,EAAA,IACAtC,EAAAR,EAAA,UAAA8C,EAAAxC,IAEA,SAAA+E,GACA1B,QAAAC,IAAAyB,EAAAC,WARAC,QAAA,IAAAC,mBAAA,KA6EA,SAAAxE,EAAAhB,EAAAY,EAAA8D,EAAAF,GACA,IAAAiB,EAAA7E,EAAAE,WAEA4E,EACA,+BAAAD,EAAA1E,WAAAnC,KAAA,OACA8G,GACA,mFACAD,EAAApE,SAAAS,YAAA,GACA,IACA2D,EAAApE,SAAAS,YAAA,GACA,mCACA2D,EAAA1E,WAAA4E,QACA,WACA,IAAAC,EAAAH,EAAA1E,WAAA8E,MAAAC,MAAA,KAGAJ,GACA,aAFA,YAAAE,EAAA,GAAAG,QAAA,YAAAH,EAAA,IAIA,mCACAH,EAAA1E,WAAA8E,MACA,WACAH,GAAA,+BACAA,GACA,oDACAD,EAAA1E,WAAAc,WACA,oDACA4D,EAAA1E,WAAAiF,WACA,aACA,IAAAP,EAAA1E,WAAAkF,QACAP,GACA,+EAEAA,GACA,kEACAD,EAAA1E,WAAAkF,QACA,aAEAP,GAAA,SACA1F,EAAAkG,WAAAC,SArCA,IAsCAnG,EAAAkG,WAAAE,WAAAV,GACA1F,EAAAkG,WAAAG,KAAA3B,EAAA1E,EAAAsG,oBAAA5B,IAEA1E,EAAAuG,SAAA/B,GAEA,SAAA7C,EAAA6E,GACA,OAAAA,GAAA,IACA,OACAA,EAAA,EACA,OAEA,OAGA,SAAAhG,EAAAR,EAAA0B,EAAAoB,EAAAxC,GACA,IAAAmG,EAAAC,MAKA,OAEA,SAAAhF,EAAAoB,GACA,IAAA2D,EAAAC,MACAC,EAyBA,SAAAjF,GACA,OAAAA,GACA,cACA,OAAA5C,EAAAC,gBAEA,WACA,OAAAD,EAAAE,OAAAC,KAEA,WACA,OAAAH,EAAAE,OAAAE,KAEA,WACA,OAAAJ,EAAAE,OAAAG,MArCAyH,CAAAlF,GAsBA,OArBEU,EAAAC,EACFC,aAEA,sBACA,eACA,oCAEAlD,GAEA2C,KAAA,SAAA8E,GAAA,IAAAC,EAAArE,IAAAoE,EAAA,GAAAE,EAAAD,EAAA,GAAAE,EAAAF,EAAA,GAAAG,EAAAH,EAAA,GASAlG,EAAA,IAAAoG,EARA,IAAAD,EAAAjE,GACA,IAAAmE,GACA5H,IAAAX,EAAA,OAAAA,CAAA,KAAAiI,GACAxF,MAAA,GACAC,OAAA,GACA8F,QAAA,EACAC,QAAA,KAGAV,EAAAW,QAAAxG,KAEA6F,EAAAY,QA9BAC,CAAA5F,EAAAoB,GAAAf,KAAA,SAAAnB,GACAN,EAAAiH,IAAA3G,GACA6F,EAAAW,QAAAxG,KAEA6F,EAAAY,QCpSA,IAGeG,GADExJ,OAFP,WAAgB,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBqJ,YAAA,MAAAnJ,OAAyBC,GAAA,SAAYH,EAAA,qBAA0BqJ,YAAA,uBAAAnJ,OAA0CoJ,KAAA,YAAkBtD,IAAKuD,MAAhNzJ,KAAgN2G,uBAAgC,IAE1OrG,oBCChC,IAuBeoJ,EAvBUlJ,EAAQ,OAcjBmJ,CACdlI,EACA6H,GAT6B,EAV/B,SAAoB3I,GAClBH,EAAQ,SAaS,KAEU,MAUG,QCvBjBoJ,GADE9J,OAFP,WAAgB,IAAA+J,EAAA7J,KAAaD,EAAA8J,EAAA5J,eAA0BC,EAAA2J,EAAA1J,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAAA,EAAA,OAA2BqJ,YAAA,wBAAArD,IAAwCuD,MAAA,SAAAK,GAAyB,OAAAD,EAAAE,WAAAF,EAAAtG,MAAAV,WAAAxC,QAAiDH,EAAA,qBAA0BqJ,YAAA,OAAAnJ,OAA0BoJ,KAAA,gBAAqBK,EAAAG,GAAA,SAAAH,EAAAI,GAAAJ,EAAAtG,MAAAV,WAAAnC,MAAA,YAAAmJ,EAAAG,GAAA,KAAA9J,EAAA,OAAsFqJ,YAAA,YAAsBrJ,EAAA,KAAUE,OAAO8J,OAAA,SAAAC,KAAAN,EAAA1I,OAAkCjB,EAAA,KAAUqJ,YAAA,uBAAiCM,EAAAG,GAAAH,EAAAI,GAAAJ,EAAAtG,MAAAV,WAAA4E,cAAAoC,EAAAG,GAAA,KAAA9J,EAAA,KAAuEE,OAAO+J,KAAAN,EAAAO,eAAwBlK,EAAA,KAAUqJ,YAAA,uBAAiCM,EAAAG,GAAAH,EAAAI,GAAAJ,EAAAtG,MAAAV,WAAA8E,cAAAkC,EAAAG,GAAA,KAAA9J,EAAA,OAAyEqJ,YAAA,sBAAgCM,EAAAG,GAAA,QAAAH,EAAAI,GAAAJ,EAAAtG,MAAAV,WAAAkF,YAAA8B,EAAAG,GAAA,KAAA9J,EAAA,OAA+EqJ,YAAA,mBAA6BrJ,EAAA,OAAYqJ,YAAA,qBAA+BM,EAAAG,GAAA,QAAAH,EAAAI,GAAAJ,EAAAtG,MAAAV,WAAAc,eAAAkG,EAAAG,GAAA,KAAA9J,EAAA,OAAkFqJ,YAAA,sBAAgCM,EAAAG,GAAA,QAAAH,EAAAI,GAAAJ,EAAAtG,MAAAV,WAAAiF,oBAE59BxH,oBCChC,IC0CA+J,GACA3J,KAAA,QACAiB,OAAA,iCACAC,KAAA,WACA,OACA0I,WAAAtK,KAAAuK,MACAC,YAAA,KAGAvI,SACAwI,YACAC,MDrDyBlK,EAAQ,OAcjBmK,EEMhBhJ,OAAA,SACA8I,cACA1G,SACAgG,WAAA,SAAAtH,GACAzC,KAAAoG,MAAA,sBAAA3D,KAGAmI,UACAzJ,IAAA,WACA,MACA,0DACAnB,KAAAuD,MAAAJ,SAAAS,YAAA,GACA,IACA5D,KAAAuD,MAAAJ,SAAAS,YAAA,IAGAwG,YAAA,WACA,IAAA1C,EAAA1H,KAAAuD,MAAAV,WAAA8E,MAAAC,MAAA,KACA,MACA,YAAAF,EAAA,GAAAG,QAAA,YAAAH,EAAA,MFvBEkC,GAT6B,EAV/B,SAAoBjJ,GAClBH,EAAQ,SAaS,kBAEU,MAUG,SCgChCuD,SACA8G,WAAA,WACA7K,KAAAoG,MAAA,gBAEA0E,mBAAA,SAAArI,GACAzC,KAAAoG,MAAA,sBAAA3D,IAEAsI,YAAA,WACA/K,KAAAoG,MAAA,mBAAApG,KAAAsK,aAEAU,mBAAA,WAEA,IAAAC,EAAAjL,KAAAwK,YACA,GAgCA,oCACAU,KAjCAD,GAAA,CACA,IAEAE,GACAvJ,MACAwJ,OAAA,2DACAC,QACA,mWACAC,SAAAL,EACAM,KAAA,YACAC,WAAA,EACAC,gBAAA,OACAC,gBAAA,IAOA1L,KAAA2L,MAAAC,KAjBA,8EAiBAT,GAAAtH,KAAA,SAAAgI,UACA,CACA,IAAA1J,KACA2J,EAAAb,EAAArD,MAAA,KACAzF,EAAA2B,KAAAiI,OAAAD,EAAA,KACA3J,EAAA2B,KAAAiI,OAAAD,EAAA,KACA9L,KAAAoG,MAAA,mBAAAjE,OEhGA,IAGe6J,GADElM,OAFP,WAAgB,IAAA+J,EAAA7J,KAAaD,EAAA8J,EAAA5J,eAA0BC,EAAA2J,EAAA1J,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiB+L,aAAavL,KAAA,OAAAwL,QAAA,SAAAjB,MAAApB,EAAA,aAAAsC,WAAA,iBAAgF5C,YAAA,UAAsBrJ,EAAA,OAAYqJ,YAAA,WAAqBrJ,EAAA,OAAYqJ,YAAA,QAAArD,IAAwBuD,MAAAI,EAAAgB,cAAwBhB,EAAAG,GAAA,OAAAH,EAAAG,GAAA,KAAA9J,EAAA,OAAsCqJ,YAAA,WAAqBrJ,EAAA,SAAc+L,aAAavL,KAAA,QAAAwL,QAAA,UAAAjB,MAAApB,EAAA,YAAAsC,WAAA,gBAAgF/L,OAASoD,KAAA,OAAA4I,YAAA,YAAuCC,UAAWpB,MAAApB,EAAA,aAA0B3D,IAAKoG,MAAA,SAAAxC,GAAyBA,EAAAI,OAAAqC,YAAsC1C,EAAAW,YAAAV,EAAAI,OAAAe,WAAsCpB,EAAAG,GAAA,KAAA9J,EAAA,QAAyBqJ,YAAA,gBAA0BrJ,EAAA,qBAA0BqJ,YAAA,kBAAAnJ,OAAqCoJ,KAAA,UAAgBtD,IAAKuD,MAAAI,EAAAmB,mBAAAwB,MAAA,SAAA1C,GAAwD,OAAAA,EAAAtG,KAAAiJ,QAAA,QAAA5C,EAAA6C,GAAA5C,EAAA6C,QAAA,WAAA7C,EAAA8C,IAAA,SAAsF,KAAe/C,EAAAmB,mBAAAlB,QAAwC,KAAAD,EAAAG,GAAA,KAAA9J,EAAA,OAA8BqJ,YAAA,UAAoBrJ,EAAA,QAAA2J,EAAAG,GAAA,UAAAH,EAAAG,GAAA,KAAA9J,EAAA,UAAuD+L,aAAavL,KAAA,QAAAwL,QAAA,UAAAjB,MAAApB,EAAA,WAAAsC,WAAA,eAA8EjG,IAAM2G,QAAA,SAAA/C,GAA2B,IAAAgD,EAAAC,MAAAC,UAAAC,OAAAC,KAAApD,EAAAI,OAAAiD,QAAA,SAAAC,GAAkF,OAAAA,EAAAC,WAAkBvL,IAAA,SAAAsL,GAA+D,MAA7C,WAAAA,IAAAE,OAAAF,EAAAnC,QAA0DpB,EAAAS,WAAAR,EAAAI,OAAAqD,SAAAT,IAAA,IAA0EjD,EAAAkB,gBAAmB7K,EAAA,UAAeE,OAAO6K,MAAA,QAAcpB,EAAAG,GAAA,QAAAH,EAAAG,GAAA,KAAA9J,EAAA,UAA0CE,OAAO6K,MAAA,QAAcpB,EAAAG,GAAA,QAAAH,EAAAG,GAAA,KAAA9J,EAAA,UAA0CE,OAAO6K,MAAA,QAAcpB,EAAAG,GAAA,QAAAH,EAAAG,GAAA,KAAA9J,EAAA,UAA0CE,OAAO6K,MAAA,SAAepB,EAAAG,GAAA,WAAAH,EAAAG,GAAA,KAAA9J,EAAA,QAAA2J,EAAAG,GAAA,WAAAH,EAAAG,GAAA,KAAA9J,EAAA,OAAmFqJ,YAAA,kBAA6BM,EAAA2D,GAAA3D,EAAA,gBAAAtG,GAAqC,OAAArD,EAAA,OAAiB0M,IAAArJ,EAAAV,WAAAxC,GAAAkJ,YAAA,SAA2CrJ,EAAA,UAAeE,OAAOmD,SAAc2C,IAAKuH,oBAAA5D,EAAAiB,uBAA8C,KAAM,GAAAjB,EAAAG,GAAA,KAAA9J,EAAA,OAA2BqJ,YAAA,oBAA8BrJ,EAAA,KAAAA,EAAA,qBAAkCqJ,YAAA,OAAAnJ,OAA0BoJ,KAAA,0BAA+BK,EAAAG,GAAA,sDAAAH,EAAAG,GAAA,KAAA9J,EAAA,KAAAA,EAAA,qBAA2GqJ,YAAA,OAAAnJ,OAA0BoJ,KAAA,0BAA+BK,EAAAG,GAAA,6CAErwE1J,oBCChC,IAuBeoN,EAvBUlN,EAAQ,OAcjBmN,CACdtD,EACA2B,GAT6B,EAV/B,SAAoBrL,GAClBH,EAAQ,SAaS,kBAEU,MAUG,oBCEhCoN,EACA,6EAEAC,EAAA,IAAAC,OAAAC,YAEAC,SAAAC,gBAAAC,MAAAC,YAAA,OAAAN,EAAA,MAEA,IAAAO,GACA1N,KAAA,OACA+J,YACA4D,KAAA3E,EACA4E,OAAAZ,GAEA9L,KAAA,WACA,OACA2M,UA6EAC,OAAAvL,MAAA,KA5EAnC,OAAA,KACAyJ,MAAA,GACA9H,QAAA,KACAO,OAAA,KACAd,YAAA,OAGA8B,QAhBA,aAiBA/B,OACAsI,MAAA,SAAAU,GACA,IAAA5H,EAAArD,KACAA,KAAA2L,MACA8C,IAAAb,GACA/J,KAAA,SAAA6K,GACArL,EAAAvC,OAAA6N,EAAAD,EAAA9M,KAAAgN,SAAAvL,EAAAL,QACAyD,KAAAoI,EAAA,4BACAC,MAAA,EAAA7D,EAAA,KAEA8D,MAAA,SAAAC,GAEAvJ,QAAAC,IAAAsJ,OAIAjL,SACAkL,eAAA,WACAjP,KAAAuO,WAAA,GAEAW,oBAAA,SAAAjE,GACAjL,KAAAuO,UAAAtD,GAEAkE,kBAAA,SAAAlE,GACAjL,KAAAgD,OAAAiI,EACA,IAAA5H,EAAArD,KACAA,KAAA2L,MACA8C,IAAAb,GACA/J,KAAA,SAAA6K,GACArL,EAAAvC,OAAA6N,EAAAD,EAAA9M,KAAAgN,SAAA3D,GACAxE,KAAAoI,EAAA,4BACAC,MAAA,EAAAzL,EAAAkH,MAAA,KAEAwE,MAAA,SAAAC,GAEAvJ,QAAAC,IAAAsJ,MAGAI,iBAAA,SAAAnE,GACAjL,KAAAuK,MAAAwB,OAAAd,IAEAoE,iBAAA,SAAApE,GACAjL,KAAAkC,YAAA+I,KAIA,SAAA0D,EAAA7N,EAAAkC,GACA,IAAAsM,EAAAtM,EAAAsM,KACAC,EAAAvM,EAAAuM,KACAC,EAAAxM,EAAAwM,KACAC,EAAAzM,EAAAyM,KACAC,EAAAC,OAAAC,EAAA,EAAAD,QAAAC,EAAA,EAAAD,CAAA,aAAAA,OAAAC,EAAA,EAAAD,CAAA,cAAAL,EAAAE,IACAK,EAAAF,OAAAC,EAAA,EAAAD,QAAAC,EAAA,EAAAD,CAAA,aAAAA,OAAAC,EAAA,EAAAD,CAAA,cAAAJ,EAAAE,IAaA,OAZA3O,EAAAmM,OAAA,SAAA1J,GACA,IAAAuM,EAAAvM,EAAAJ,SAAAS,YAAA,GACAmM,EAAAxM,EAAAJ,SAAAS,YAAA,GACAoM,GAAA,EAOA,OANAN,EAAA,GAAAI,GAAAD,EAAA,GAAAC,KACAE,GAAA,IAEAN,EAAA,GAAAK,GAAAF,EAAA,GAAAE,KACAC,GAAA,GAEAA,IAWA,SAAAnB,EAAAoB,EAAAC,GACA,gBAAAC,EAAAC,GACA,IAAAC,EAAAF,EAAAF,GAAAC,GACAI,EAAAF,EAAAH,GAAAC,GACA,OAAAI,EAAAD,EACA,EACAC,EAAAD,GACA,EAEA,GCvIA,IAGeE,GADEzQ,OAFP,WAAgB,IAAA+J,EAAA7J,KAAaD,EAAA8J,EAAA5J,eAA0BC,EAAA2J,EAAA1J,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBqJ,YAAA,2BAAqCrJ,EAAA,OAAYqJ,YAAA,aAAArD,IAA6BuD,MAAAI,EAAAoF,kBAA4B/O,EAAA,qBAA0BqJ,YAAA,kBAAAnJ,OAAqCoJ,KAAA,aAAiB,GAAAK,EAAAG,GAAA,KAAA9J,EAAA,WAAgCE,OAAOoQ,gBAAA3G,EAAA0E,UAAAhE,MAAAV,EAAAU,MAAAzJ,OAAA+I,EAAA/I,QAAoEoF,IAAKuK,SAAA5G,EAAAqF,oBAAAzB,oBAAA,SAAA3D,GAA0ED,EAAApH,QAAAqH,GAAmBsF,iBAAAvF,EAAAuF,iBAAAC,iBAAAxF,EAAAwF,oBAAkFxF,EAAAG,GAAA,KAAA9J,EAAA,SAA0BE,OAAOU,OAAA+I,EAAA/I,OAAA2B,QAAAoH,EAAApH,QAAAP,YAAA2H,EAAA3H,aAAwEgE,IAAKuK,SAAA5G,EAAAsF,sBAAkC,IAEnrB7O,oBCChC,IAuBeoQ,EAvBUlQ,EAAQ,OAcjBmQ,CACdvC,EACAmC,GAT6B,EAV/B,SAAoB5P,GAClBH,EAAQ,SAaS,kBAEU,MAUG,QCtBhCoQ,IAAIC,IAAIC,KAEO,IAAAC,EAAA,IAAID,KACjBE,SAEIC,KAAM,IACNvQ,KAAM,OACNwQ,UAAW9C,oFCDjB+C,IAAQ9H,IAAI+H,KACZD,IAAQ9H,IAAIgI,KACZF,IAAQ9H,IAAIiI,KACZH,IAAQ9H,IAAIkI,KAEZX,IAAIM,UAAU,oBAAqBM,KAEnCZ,IAAIzF,OAAOsG,eAAgB,EAC3Bb,IAAIC,IAAIa,IAAUC,KAKlB,IAAIf,KACFgB,GAAI,OACJb,SACAtG,YAAcoH,OACdC,SAAU,yEC3BZnS,EAAAC,QAAA,mkBCAA,IAAAkC,GACAiQ,cAAA,OACAC,2BAAA,OACAC,wBAAA,OACAC,wBAAA,OACAC,wBAAA,QAEA,SAAAC,EAAAC,GACA,OAAA7R,EAAA8R,EAAAD,IAEA,SAAAC,EAAAD,GACA,IAAAhS,EAAAyB,EAAAuQ,GACA,KAAAhS,EAAA,GACA,UAAAkS,MAAA,uBAAAF,EAAA,MACA,OAAAhS,EAEA+R,EAAAI,KAAA,WACA,OAAA7C,OAAA6C,KAAA1Q,IAEAsQ,EAAAlJ,QAAAoJ,EACA3S,EAAAC,QAAAwS,EACAA,EAAA/R,GAAA,gDCrBAV,EAAAC,QAAA,mkBCAAD,EAAAC,QAAA,ikBCAAD,EAAAC,QAAA","file":"static/js/app.0952eaad0bbb2bab2422.js","sourcesContent":["module.exports = \"data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJtYXAtbWFya2VyLWFsdCIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLW1hcC1tYXJrZXItYWx0IGZhLXctMTIiIHJvbGU9ImltZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMzg0IDUxMiI+PHBhdGggZmlsbD0iUkVEIiBkPSJNMTcyLjI2OCA1MDEuNjdDMjYuOTcgMjkxLjAzMSAwIDI2OS40MTMgMCAxOTIgMCA4NS45NjEgODUuOTYxIDAgMTkyIDBzMTkyIDg1Ljk2MSAxOTIgMTkyYzAgNzcuNDEzLTI2Ljk3IDk5LjAzMS0xNzIuMjY4IDMwOS42Ny05LjUzNSAxMy43NzQtMjkuOTMgMTMuNzczLTM5LjQ2NCAwek0xOTIgMjcyYzQ0LjE4MyAwIDgwLTM1LjgxNyA4MC04MHMtMzUuODE3LTgwLTgwLTgwLTgwIDM1LjgxNy04MCA4MCAzNS44MTcgODAgODAgODB6Ij48L3BhdGg+PC9zdmc+\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/map-marker-current.svg\n// module id = CTQH\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-03f4e167\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-03f4e167\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-03f4e167\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <router-view />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App'\r\n}\r\n</script>\r\n\r\n<style>\r\n @import \"assets/css/vendors/reset.css\";\r\n#app {\r\n  font-family: \"Noto Sans TC\", \"微軟正黑體\";\r\n  font-style: normal;\r\n}\r\n.color_gray {\r\n  color: #777;\r\n}\r\n.color_blue {\r\n  color: #4b6de4;\r\n}\r\n.color_green {\r\n  color: #78d5d7;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\r\n  <div class=\"map\" id=\"map\">\r\n    <font-awesome-icon class=\"color_gray back icon\" icon=\"undo-alt\" @click=\"goBackCurrentPoint\"></font-awesome-icon>\r\n    <!-- <div id=\"LocateButton\"></div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport esriLoader from \"esri-loader\";\r\nimport Deferred from \"vue-deferred\";\r\n\r\nconst _symbolFile = {\r\n  currentPosition: \"map-marker-current.svg\",\r\n  stores: {\r\n    many: \"map-marker-many.svg\",\r\n    less: \"map-marker-less.svg\",\r\n    zero: \"map-marker-zero.svg\"\r\n  }\r\n};\r\nconst _options = {\r\n  url: \"https://js.arcgis.com/3.31/\"\r\n};\r\nvar _graphicLayerSetting = {\r\n  storesGraphicLayer: { layer: null, index: 1 },\r\n  currentPositionGraphicLayer: {\r\n    layer: null,\r\n    index: 2\r\n  }\r\n};\r\nexport default {\r\n  props: [\"stores\", \"storeId\", \"searchPoint\"],\r\n  data: () => {\r\n    return {\r\n      graphics: [],\r\n      map: null,\r\n      screenUtils: null,\r\n      graphicLayers: null\r\n    };\r\n  },\r\n  watch: {\r\n    searchPoint: function(point) {\r\n      if (point[0] && point[1]) {\r\n        var graphicLayer = this.graphicLayers.currentPositionGraphicLayer;\r\n        graphicLayer.clear();\r\n        addPointGraphic(this.map, \"current\", point, graphicLayer);\r\n        this.map.centerAndZoom(point, 17);\r\n      }else{\r\n        alert('很抱歉，我們搜尋不到相關資料！');\r\n      }\r\n    },\r\n    storeId: function(id) {\r\n      var map = this.map;\r\n      var graphic = this.graphics.find(function(graphic) {\r\n        return graphic.attributes.properties.id === id;\r\n      });\r\n      var screenPoint = this.screenUtils.toScreenPoint(\r\n        map.extent,\r\n        map.width,\r\n        map.height,\r\n        graphic.geometry\r\n      );\r\n      openInfoWindow(map, graphic, screenPoint, graphic.geometry);\r\n    },\r\n    stores: function(result) {\r\n      var vue = this;\r\n      vue.graphics = [];\r\n      var graphicLayer = vue.graphicLayers.storesGraphicLayer;\r\n      graphicLayer.clear();\r\n      result.forEach(function(store) {\r\n        var type = getType(parseInt(store.properties.mask_adult));\r\n        addPointGraphic(\r\n          map,\r\n          type,\r\n          store.geometry.coordinates,\r\n          graphicLayer\r\n        ).then(function(graphic) {\r\n          graphic.attributes = store;\r\n          vue.graphics.push(graphic);\r\n        });\r\n      });\r\n    }\r\n  },\r\n  methods: {},\r\n  created() {\r\n    esriLoader\r\n      .loadModules(\r\n        [\r\n          \"esri/map\",\r\n          \"esri/layers/WebTiledLayer\",\r\n          \"esri/layers/GraphicsLayer\",\r\n          \"esri/geometry/screenUtils\",\r\n          \"esri/dijit/LocateButton\"\r\n        ],\r\n        _options\r\n      )\r\n      .then(\r\n        ([Map, WebTiledLayer, GraphicsLayer, screenUtils, LocateButton]) => {\r\n          this.map = new Map(\"map\", {\r\n            center: [121.525, 25.0392],\r\n            basemap: \"gray\",\r\n            logo: false,\r\n            fadeOnZoom: true,\r\n            minZoom: 7,\r\n            maxZoom: 18\r\n          });\r\n          this.initBasemap(this.map, WebTiledLayer);\r\n          this.graphicLayers = this.slimGraphicLayers(\r\n            _graphicLayerSetting,\r\n            GraphicsLayer\r\n          );\r\n          this.addGraphicLayersToMap(this.map, _graphicLayerSetting);\r\n          this.addGraphicLayersEvent(this.map, this.graphicLayers);\r\n          this.addEventListener(this);\r\n          this.screenUtils = screenUtils;\r\n          var vue = this;\r\n          var graphicLayer = this.graphicLayers.currentPositionGraphicLayer;\r\n          addCurrentPoint(vue.map, graphicLayer, LocateButton);\r\n        },\r\n        reason => {\r\n          console.log(reason);\r\n        }\r\n      );\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    getType: getType,\r\n    addPointGraphic: addPointGraphic,\r\n    addCurrentPoint: addCurrentPoint,\r\n    initBasemap: initBasemap,\r\n    slimGraphicLayers: slimGraphicLayers,\r\n    addGraphicLayersToMap: addGraphicLayersToMap,\r\n    addGraphicLayersEvent: addGraphicLayersEvent,\r\n    addEventListener: addEventListener,\r\n    orderByGraphicLayersByIndex: orderByGraphicLayersByIndex,\r\n    goBackCurrentPoint: function() {\r\n      var graphicLayer = this.graphicLayers.currentPositionGraphicLayer;\r\n      addCurrentPoint(this.map, graphicLayer);\r\n    }\r\n  }\r\n};\r\n\r\nfunction addCurrentPoint(map, graphicLayer, LocateButton) {\r\n  // var geoLocate = new LocateButton(\r\n  //   {\r\n  //     map: map\r\n  //   },\r\n  //   \"LocateButton\"\r\n  // );\r\n  // geoLocate.startup();\r\n  // geoLocate.on(\"load\", function() {\r\n  //   geoLocate.locate();\r\n  // });\r\n  graphicLayer.clear();\r\n  if (navigator.geolocation) {\r\n    // timeout at 60000 milliseconds (60 seconds)\r\n    var options = { timeout: 60000, enableHighAcuracy: true };\r\n    navigator.geolocation.getCurrentPosition(\r\n      function(position) {\r\n        var center = [position.coords.longitude, position.coords.latitude];\r\n        map.centerAndZoom(center, 17);\r\n        addPointGraphic(map, \"current\", center, graphicLayer);\r\n      },\r\n      function(e) {\r\n        console.log(e.message);\r\n      },\r\n      options\r\n    );\r\n  }\r\n}\r\nfunction initBasemap(map, WebTiledLayer) {\r\n  map.setLevel(15);\r\n  var layer = new WebTiledLayer(\r\n    \"https://wmts.nlsc.gov.tw/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=EMAP&STYLE=_null&TILEMATRIXSET=EPSG:3857&TILEMATRIX=EPSG:3857:{level}&TILEROW={row}&TILECOL={col}&FORMAT=image/png\"\r\n  );\r\n  map.addLayer(layer);\r\n}\r\nfunction slimGraphicLayers(graphicLayerSetting, GraphicsLayer) {\r\n  var result = {};\r\n  for (var prop in graphicLayerSetting) {\r\n    graphicLayerSetting[prop].layer = new GraphicsLayer();\r\n    result[prop] = graphicLayerSetting[prop].layer;\r\n  }\r\n\r\n  return result;\r\n}\r\nfunction addGraphicLayersToMap(map, graphicLayerSetting) {\r\n  var layerSort = this.orderByGraphicLayersByIndex(graphicLayerSetting);\r\n  layerSort.forEach(function(item) {\r\n    var graphicLayer = graphicLayerSetting[item.name];\r\n    map.addLayer(graphicLayer.layer, graphicLayer.index);\r\n  });\r\n}\r\nfunction addEventListener(vue) {\r\n  var map = vue.map;\r\n  map.on(\"extent-change\", function(data) {\r\n    vue.$emit(\"callback\", data.extent);\r\n  });\r\n  this.graphicLayers.storesGraphicLayer.on(\"click\", function(evt) {\r\n    var graphic = evt.graphic;\r\n    var mapPoint = vue.screenUtils.toMapPoint(\r\n      map.extent,\r\n      map.width,\r\n      map.height,\r\n      evt.screenPoint\r\n    );\r\n    openInfoWindow(map, graphic, evt.screenPoint, mapPoint);\r\n  });\r\n}\r\nfunction addGraphicLayersEvent(map, graphicLayers) {\r\n  graphicLayers.storesGraphicLayer.on(\"mouse-over\", function() {\r\n    map.setMapCursor(\"pointer\");\r\n  });\r\n  graphicLayers.storesGraphicLayer.on(\"mouse-out\", function() {\r\n    map.setMapCursor(\"default\");\r\n  });\r\n}\r\n\r\nfunction orderByGraphicLayersByIndex(graphicLayerSetting) {\r\n  var result = [];\r\n  for (var prop in graphicLayerSetting) {\r\n    result.push({\r\n      name: prop,\r\n      index: graphicLayerSetting[prop].index\r\n    });\r\n  }\r\n  result.sort(function(a, b) {\r\n    return a.index - b.index;\r\n  });\r\n\r\n  return result;\r\n}\r\n\r\nfunction openInfoWindow(map, graphic, screenPoint, mapPoint) {\r\n  var graphicAttributes = graphic.attributes;\r\n  var title = \"\";\r\n  var content =\r\n    '<p class=\"infoWindow title\">' + graphicAttributes.properties.name + \"</p>\";\r\n  content +=\r\n    '<a target=\"_blank\" href=\"https://www.google.com/maps/dir/?api=1&amp;destination=' +\r\n    graphicAttributes.geometry.coordinates[1] +\r\n    \",\" +\r\n    graphicAttributes.geometry.coordinates[0] +\r\n    '\"><p class=\"content infoWindow\">' +\r\n    graphicAttributes.properties.address +\r\n    \"</p></a>\";\r\n  var phoneString = graphicAttributes.properties.phone.split(\"-\");\r\n  var phone =\r\n    \"tel:+886-\" + phoneString[0].replace(\"0\", \"\") + \"-\" + phoneString[1];\r\n  content +=\r\n    '<a href=\"' +\r\n    phone +\r\n    '\"><p class=\"content infoWindow\">' +\r\n    graphicAttributes.properties.phone +\r\n    \"</p></a>\";\r\n  content += '<div class=\"mask-container\">';\r\n  content +=\r\n    '<div><p class=\"title infoWindow color_blue\">成人口罩 ' +\r\n    graphicAttributes.properties.mask_adult +\r\n    '</p><p class=\"title infoWindow color_green\">兒童口罩 ' +\r\n    graphicAttributes.properties.mask_child +\r\n    \"</p></div>\";\r\n  if (graphicAttributes.properties.updated == \"\") {\r\n    content +=\r\n      '<div class=\"update\"><p class=\"note infoWindow color_gray\">更新時間：無資料</p></div>';\r\n  } else {\r\n    content +=\r\n      '<div class=\"update\"><p class=\"note infoWindow color_gray\">更新時間：' +\r\n      graphicAttributes.properties.updated +\r\n      \"</p></div>\";\r\n  }\r\n  content += \"</div>\";\r\n  map.infoWindow.setTitle(title);\r\n  map.infoWindow.setContent(content);\r\n  map.infoWindow.show(screenPoint, map.getInfoWindowAnchor(screenPoint));\r\n\r\n  map.centerAt(mapPoint);\r\n}\r\nfunction getType(amount) {\r\n  if (amount >= 100) {\r\n    return \"many\";\r\n  } else if (amount > 0) {\r\n    return \"less\";\r\n  } else {\r\n    return \"zero\";\r\n  }\r\n}\r\nfunction addPointGraphic(map, type, center, graphicLayer) {\r\n  const defer = Deferred();\r\n  createPointGraphic(type, center).then(function(graphic) {\r\n    graphicLayer.add(graphic);\r\n    defer.resolve(graphic);\r\n  });\r\n  return defer.promise;\r\n}\r\nfunction createPointGraphic(type, center) {\r\n  const defer = Deferred();\r\n  var fileName = getSymbolFileName(type);\r\n  esriLoader\r\n    .loadModules(\r\n      [\r\n        \"esri/geometry/Point\",\r\n        \"esri/graphic\",\r\n        \"esri/symbols/PictureMarkerSymbol\"\r\n      ],\r\n      _options\r\n    )\r\n    .then(([Point, Graphic, PictureMarkerSymbol]) => {\r\n      var point = new Point(center);\r\n      var symbol = new PictureMarkerSymbol({\r\n        url: require(\"../assets/images/\" + fileName),\r\n        width: 20,\r\n        height: 25,\r\n        xoffset: 0,\r\n        yoffset: 0\r\n      });\r\n      var graphic = new Graphic(point, symbol);\r\n      defer.resolve(graphic);\r\n    });\r\n  return defer.promise;\r\n}\r\n\r\nfunction getSymbolFileName(type) {\r\n  switch (type) {\r\n    case \"current\":\r\n      return _symbolFile.currentPosition;\r\n      break;\r\n    case \"many\":\r\n      return _symbolFile.stores.many;\r\n      break;\r\n    case \"less\":\r\n      return _symbolFile.stores.less;\r\n      break;\r\n    case \"zero\":\r\n      return _symbolFile.stores.zero;\r\n      break;\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n@import url(\"https://js.arcgis.com/3.28/esri/css/esri.css\");\r\n\r\n.map {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.esriPopup .esriPopupWrapper {\r\n  background: #fff;\r\n  height: 225px;\r\n}\r\n.esriPopup .sizer {\r\n  width: 160px;\r\n}\r\n.map-container .esriSimpleSliderTL {\r\n  top: initial;\r\n  left: initial;\r\n  bottom: 20px;\r\n  right: 20px;\r\n}\r\n.map-container p.infoWindow {\r\n  font-family: \"Noto Sans TC\", \"微軟正黑體\";\r\n  margin: 0;\r\n}\r\n.map-container .infoWindow.title {\r\n  font-size: 16px;\r\n  font-weight: 900;\r\n  padding-bottom: 10px;\r\n}\r\n.map-container .infoWindow.content {\r\n  font-size: 10px;\r\n  line-height: 20px;\r\n}\r\n.esriPopup .titlePane {\r\n  background-color: #f7f7f7;\r\n  color: #555;\r\n}\r\n.esriPopup .contentPane {\r\n  padding: 3px 10px 20px 15px;\r\n  box-sizing: border-box;\r\n}\r\n.esriPopup .titleButton {\r\n  background-image: url(\"../assets/images/close.svg\") !important;\r\n}\r\n.esriPopup .titleButton.close {\r\n  right: 8px;\r\n  top: 8px;\r\n  width: 15px;\r\n  background-position: center;\r\n  height: 15px;\r\n}\r\n.esriPopup .titleButton.maximize {\r\n  display: none;\r\n}\r\n\r\n.map-container .mask-container {\r\n  position: relative;\r\n  margin-top: 30px;\r\n}\r\n\r\n.map-container .mask-container .update {\r\n  font-size: 8px;\r\n  position: absolute;\r\n  bottom: -20px;\r\n  right: 0;\r\n}\r\n.LocateButton .zoomLocateButton {\r\n  position: absolute;\r\n  right: 20px;\r\n  bottom: 95px;\r\n  z-index: 3;\r\n}\r\n.map-container .map .back.icon {\r\n  display: inline-block;\r\n  position: absolute;\r\n  right: 20px;\r\n  bottom: 95px;\r\n  z-index: 3;\r\n  background-color: #fff;\r\n  border-radius: 50%;\r\n  padding: 7px;\r\n  border: 1.5px solid #888;\r\n}\r\n@media screen and (min-width: 1024px) {\r\n  /*電腦版*/\r\n  .esriPopup .esriPopupWrapper {\r\n    height: inherit;\r\n  }\r\n  .esriPopup .sizer {\r\n    z-index: 41;\r\n    width: 270px;\r\n  }\r\n  .esriPopup .contentPane {\r\n    padding: 10px 18px 24px 18px;\r\n  }\r\n  .map-container .infoWindow.content {\r\n    font-size: 14px;\r\n    line-height: 24px;\r\n  }\r\n  .map-container .infoWindow.title {\r\n    font-size: 20px;\r\n  }\r\n  .map-container .mask-container .update {\r\n    font-size: 10px;\r\n    bottom: -10px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Map.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map\",attrs:{\"id\":\"map\"}},[_c('font-awesome-icon',{staticClass:\"color_gray back icon\",attrs:{\"icon\":\"undo-alt\"},on:{\"click\":_vm.goBackCurrentPoint}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11d0c494\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Map.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-11d0c494\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Map.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Map.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Map.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-11d0c494\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Map.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Map.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"color_blue name title\",on:{\"click\":function($event){return _vm.clickTitle(_vm.store.properties.id)}}},[_c('font-awesome-icon',{staticClass:\"icon\",attrs:{\"icon\":\"map-marker\"}}),_vm._v(\"\\n    \"+_vm._s(_vm.store.properties.name)+\"\\n  \")],1),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.url}},[_c('p',{staticClass:\"content infoWindow\"},[_vm._v(_vm._s(_vm.store.properties.address))])]),_vm._v(\" \"),_c('a',{attrs:{\"href\":_vm.phobeNumber}},[_c('p',{staticClass:\"content infoWindow\"},[_vm._v(_vm._s(_vm.store.properties.phone))])])]),_vm._v(\" \"),_c('div',{staticClass:\"update color_gray\"},[_vm._v(\"更新時間：\"+_vm._s(_vm.store.properties.updated))]),_vm._v(\" \"),_c('div',{staticClass:\"mask-container\"},[_c('div',{staticClass:\"title color_blue\"},[_vm._v(\"成人口罩 \"+_vm._s(_vm.store.properties.mask_adult))]),_vm._v(\" \"),_c('div',{staticClass:\"title color_green\"},[_vm._v(\"兒童口罩 \"+_vm._s(_vm.store.properties.mask_child))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9ca74756\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Slider/Item.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9ca74756\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Item.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Item.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Item.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9ca74756\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Item.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9ca74756\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Slider/Item.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"sider\" v-show=\"shouldRender\">\r\n    <div class=\"header\">\r\n      <div class=\"close\" @click=\"closeSider\">✖</div>\r\n      <div class=\"search\">\r\n        <input type=\"text\" v-model=\"searchValue\" placeholder=\"請輸入坐標或地址\" />\r\n        <span class=\"search-icon\">\r\n          <!-- <i class=\"fa fa-search color_gray\"></i> -->\r\n          <font-awesome-icon\r\n            class=\"color_gray icon\"\r\n            icon=\"search\"\r\n            @click=\"clickSearchAdrress\"\r\n            v-on:keyup.enter=\"clickSearchAdrress\"\r\n          ></font-awesome-icon>\r\n        </span>\r\n      </div>\r\n      <div class=\"count\">\r\n        <span>最多顯示</span>\r\n        <select v-model=\"countValue\" @change=\"changeCount\">\r\n          <option value=\"10\">10</option>\r\n          <option value=\"30\">30</option>\r\n          <option value=\"50\">50</option>\r\n          <option value=\"100\">100</option>\r\n        </select>\r\n        <span>個</span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"item-container\">\r\n      <div class=\"item\" :key=\"store.properties.id\" v-for=\"store in stores\">\r\n        <v-Item v-bind:store=\"store\" @clickStoreNameAfter=\"handleItemCallback\"></v-Item>\r\n      </div>\r\n    </div>\r\n    <div class=\"note color_gray\">\r\n      <p>\r\n        <font-awesome-icon class=\"icon\" icon=\"exclamation-triangle\"></font-awesome-icon>部分藥局因採發放號碼牌方式，方便民眾購買口罩，系統目前無法顯示已發送號碼牌數量。\r\n      </p>\r\n      <p>\r\n        <font-awesome-icon class=\"icon\" icon=\"exclamation-triangle\"></font-awesome-icon>口罩數量以藥局實際存量為主，線上查詢之數量僅供參考。\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\t\t<script>\r\nimport vItem from \"./../components/Slider/Item.vue\";\r\nexport default {\r\n  name: \"Sider\",\r\n  props: [\"shouldRender\", \"stores\", \"count\"],\r\n  data: function() {\r\n    return {\r\n      countValue: this.count,\r\n      searchValue: \"\"\r\n    };\r\n  },\r\n  watch: {},\r\n  components: {\r\n    vItem\r\n  },\r\n  methods: {\r\n    closeSider: function() {\r\n      this.$emit(\"callback\", false);\r\n    },\r\n    handleItemCallback: function(storeId) {\r\n      this.$emit(\"clickStoreNameAfter\", storeId);\r\n    },\r\n    changeCount: function() {\r\n      this.$emit(\"changeCountAfter\", this.countValue);\r\n    },\r\n    clickSearchAdrress: function() {\r\n      debugger;\r\n      var value = this.searchValue;\r\n      if (isChina(value)) {\r\n        var url =\r\n          \"https://www.tgos.tw/TGOS/Web/Address/TGOS_AddressBatchQuery.aspx/QueryAddr?\";\r\n        var config = {\r\n          data: {\r\n            oAPPId: \"QP8t8akpQxtPYZLixwpt96npqVLO46UG/w7P3SrgJwGCkUEdDkPbdw==\",\r\n            oAPIKey:\r\n              \"cGEErDNy5yNTw4lb4fzGu/McHxMCS5EctGpg7uDXUFGjmz3K4zulLpOYjnzZgP5b+vnxIpmurxrdDUSVbG5EW6eeHh07xNgNiHEfuZtKjWih08UKZzq+Zf/fssG1IQJHdH9jVgi0lsXW3aDM86QjMPwddvCUTstFOiIPebP2+1Kx0SXmAXXmiAruuhN7xb9wf2IWJ/5iy9+E5ZK2so7BX4+hRv/LU7esyHGOkA35CKAI+ehHQEe0hWRhRj5QQ46a573EyyY8r1GTH2WGBqEV8v2gDw7Spwu0wKKZA60bAy0eETpkGxA1ZZg2eb+E3ToErTuEVo3VXPKl6gJswzOj9IDsteSS80Bj\",\r\n              oAddress:value,\r\n              oSRS:'EPSG:4326',\r\n              oFuzzyType:0,\r\n              oResultDataType:'JSON',\r\n              oReturnMaxCount:5\r\n\r\n\r\n          \r\n          },\r\n\r\n        };\r\n        this.$http.post(url, config).then(function(responese) {debugger});\r\n      } else {\r\n        var point = [];\r\n        var latAndLon = value.split(\",\");\r\n        point.push(Number(latAndLon[1]));\r\n        point.push(Number(latAndLon[0]));\r\n        this.$emit(\"clickSearchAfter\", point);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nfunction isChina(s) {\r\n  var patrn = /[\\u4E00-\\u9FA5]|[\\uFE30-\\uFFA0]/gi;\r\n  if (!patrn.exec(s)) {\r\n    return false;\r\n  } else {\r\n    return true;\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.sider {\r\n  background-color: #fff;\r\n  box-shadow: rgba(248, 190, 190, 0.5) 2px 0px 11px;\r\n  z-index: 41;\r\n  position: absolute;\r\n  padding-bottom: 15px;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.sider.active {\r\n  z-index: 31;\r\n  display: block;\r\n}\r\n.sider .close {\r\n  position: absolute;\r\n  top: 20px;\r\n  color: #fff;\r\n  z-index: 1;\r\n  right: 20px;\r\n}\r\n.sider .header {\r\n  padding: 15px 0;\r\n  background: linear-gradient(\r\n    123.72deg,\r\n    #4065e3 0%,\r\n    rgba(120, 213, 215, 0.81) 105.41%\r\n  );\r\n}\r\n.sider .search {\r\n  padding: 0 10px;\r\n  position: relative;\r\n}\r\n.sider .search input {\r\n  width: 80%;\r\n  border-radius: 20px;\r\n  border: 1px solid #668afe;\r\n  line-height: 30px;\r\n  padding-left: 15px;\r\n}\r\n.sider .count select {\r\n  border-radius: 20px;\r\n  padding: 3px 0 3px 15px;\r\n}\r\n/* .sider .search input::placeholder {\r\n  color:#668afe;\r\n} */\r\n.sider .search input:focus {\r\n  outline: none;\r\n}\r\n.sider .search .search-icon {\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  right: 21%;\r\n  vertical-align: top;\r\n  cursor: pointer;\r\n}\r\n.sider .search .search-icon svg {\r\n  color: #668afe;\r\n}\r\n.sider .count {\r\n  padding: 10px 0 5px 15px;\r\n  color: #fff;\r\n}\r\n.sider .note {\r\n  position: absolute;\r\n  bottom: 10px;\r\n  font-size: 12px;\r\n  padding: 0 10px;\r\n}\r\n\r\n.sider .note p {\r\n  margin: 5px 0;\r\n  line-height: 16px;\r\n}\r\n\r\n.sider .note .icon {\r\n  color: red;\r\n}\r\n.sider .item-container {\r\n  overflow-y: auto;\r\n  margin: 10px 0px 20px 10px;\r\n  height: calc(100vh - 230px);\r\n}\r\n.item-container .item {\r\n  position: relative;\r\n  padding: 12px;\r\n}\r\n.item-container .item:not(:last-child)::after {\r\n  content: \"\";\r\n  display: inline-block;\r\n  width: 100%;\r\n  bottom: 0px;\r\n  height: 2px;\r\n  position: absolute;\r\n  background-color: #ddd;\r\n  left: -10px;\r\n  z-index: -1;\r\n}\r\n@media screen and (min-width: 1024px) {\r\n  .sider .close {\r\n    display: none;\r\n  }\r\n  .sider {\r\n    position: relative;\r\n    width: 26.5%;\r\n    display: block;\r\n  }\r\n  .sider .search input {\r\n    width: 92%;\r\n  }\r\n  .sider .search .search-icon {\r\n    transform: translateY(-50%);\r\n    right: 10%;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Sider.vue","<template>\r\n  <div>\r\n    <div class=\"color_blue name title\" @click=\"clickTitle(store.properties.id)\">\r\n      <font-awesome-icon class=\"icon\" icon=\"map-marker\"></font-awesome-icon>\r\n      {{store.properties.name}}\r\n    </div>\r\n    <div class=\"content\">\r\n      <a target=\"_blank\" v-bind:href=\"url\">\r\n        <p class=\"content infoWindow\">{{store.properties.address}}</p>\r\n      </a>\r\n      <a v-bind:href=\"phobeNumber\">\r\n        <p class=\"content infoWindow\">{{store.properties.phone}}</p>\r\n      </a>\r\n    </div>\r\n    <div class=\"update color_gray\">更新時間：{{store.properties.updated}}</div>\r\n    <div class=\"mask-container\">\r\n      <div class=\"title color_blue\">成人口罩 {{store.properties.mask_adult}}</div>\r\n      <div class=\"title color_green\">兒童口罩 {{store.properties.mask_child}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\t\t<script>\r\nexport default {\r\n  props: [\"store\"],\r\n  components: {},\r\n  methods: {\r\n    clickTitle: function(storeId) {\r\n      this.$emit(\"clickStoreNameAfter\", storeId);\r\n    }\r\n  },\r\n  computed: {\r\n    url: function() {\r\n      return (\r\n        \"https://www.google.com/maps/dir/?api=1&amp;destination=\" +\r\n        this.store.geometry.coordinates[1] +\r\n        \",\" +\r\n        this.store.geometry.coordinates[0]\r\n      );\r\n    },\r\n    phobeNumber: function() {\r\n      var phoneString = this.store.properties.phone.split(\"-\");\r\n      return (\r\n        \"tel:+886-\" + phoneString[0].replace(\"0\", \"\") + \"-\" + phoneString[1]\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.item .title {\r\n  font-size: 20px;\r\n  font-weight: 900;\r\n}\r\n.item .title.name {\r\n  cursor: pointer;\r\n  padding-bottom: 8px;\r\n}\r\n.item .content {\r\n  font-size: 14px;\r\n  line-height: 24px;\r\n}\r\n.item .mask-container {\r\n  position: relative;\r\n  margin: 10px 0 10px;\r\n  box-shadow: 0px 0px 8px #bbb;\r\n  display: inline-block;\r\n}\r\n.item .mask-container:after {\r\n  content: \"\";\r\n  display: block;\r\n  clear: both;\r\n}\r\n.item .mask-container div {\r\n  float: left;\r\n  width: 130px;\r\n  text-align: center;\r\n  line-height: 38px;\r\n  border-radius: 20px;\r\n}\r\n.item .update {\r\n  padding-top: 30px;\r\n  font-size: 10px;\r\n}\r\n.item .icon {\r\n  font-size: 17px;\r\n  vertical-align: baseline;\r\n  padding: 0 5px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Slider/Item.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shouldRender),expression:\"shouldRender\"}],staticClass:\"sider\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"close\",on:{\"click\":_vm.closeSider}},[_vm._v(\"✖\")]),_vm._v(\" \"),_c('div',{staticClass:\"search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchValue),expression:\"searchValue\"}],attrs:{\"type\":\"text\",\"placeholder\":\"請輸入坐標或地址\"},domProps:{\"value\":(_vm.searchValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchValue=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"search-icon\"},[_c('font-awesome-icon',{staticClass:\"color_gray icon\",attrs:{\"icon\":\"search\"},on:{\"click\":_vm.clickSearchAdrress,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.clickSearchAdrress($event)}}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"count\"},[_c('span',[_vm._v(\"最多顯示\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.countValue),expression:\"countValue\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.countValue=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.changeCount]}},[_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(\"10\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"30\"}},[_vm._v(\"30\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"50\"}},[_vm._v(\"50\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"100\"}},[_vm._v(\"100\")])]),_vm._v(\" \"),_c('span',[_vm._v(\"個\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"item-container\"},_vm._l((_vm.stores),function(store){return _c('div',{key:store.properties.id,staticClass:\"item\"},[_c('v-Item',{attrs:{\"store\":store},on:{\"clickStoreNameAfter\":_vm.handleItemCallback}})],1)}),0),_vm._v(\" \"),_c('div',{staticClass:\"note color_gray\"},[_c('p',[_c('font-awesome-icon',{staticClass:\"icon\",attrs:{\"icon\":\"exclamation-triangle\"}}),_vm._v(\"部分藥局因採發放號碼牌方式，方便民眾購買口罩，系統目前無法顯示已發送號碼牌數量。\\n    \")],1),_vm._v(\" \"),_c('p',[_c('font-awesome-icon',{staticClass:\"icon\",attrs:{\"icon\":\"exclamation-triangle\"}}),_vm._v(\"口罩數量以藥局實際存量為主，線上查詢之數量僅供參考。\\n    \")],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7b71d84a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Sider.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b71d84a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Sider.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sider.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sider.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b71d84a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Sider.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b71d84a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Sider.vue\n// module id = null\n// module chunks = ","\t<template>\r\n  <div class=\"map-container clearfix\">\r\n    <div class=\"sider-icon\" @click=\"clickSiderIcon\">\r\n      <font-awesome-icon class=\"color_blue icon\" icon=\"search\"></font-awesome-icon>\r\n    </div>\r\n    <v-Sider\r\n      :should-render=\"showSider\"\r\n      :count=\"count\"\r\n      @callback=\"handleSiderCallback\"\r\n      @clickStoreNameAfter=\"storeId=$event\"\r\n      @changeCountAfter=\"changeCountAfter\"\r\n      @clickSearchAfter=\"clickSearchAfter\"\r\n      :stores=\"stores\"\r\n    ></v-Sider>\r\n    <!-- <v-Sider v-model=\"showSider\"></v-Sider> -->\r\n    <v-Map\r\n      @callback=\"handleMapCallback\"\r\n      :stores=\"stores\"\r\n      :storeId=\"storeId\"\r\n      :searchPoint=\"searchPoint\"\r\n    ></v-Map>\r\n  </div>\r\n</template>\r\n\t<script>\r\nimport vMap from \"./../components/Map.vue\";\r\nimport vSider from \"./../components/Sider.vue\";\r\nimport proj4 from \"proj4\";\r\n\r\nconst _searchApiUrl =\r\n  \"https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json\";\r\n// First we get the viewport height and we multiple it by 1% to get a value for a vh unit\r\nlet vh = window.innerHeight * 0.01;\r\n// Then we set the value in the --vh custom property to the root of the document\r\ndocument.documentElement.style.setProperty('--vh', `${vh}px`);\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    vMap,\r\n    vSider\r\n  },\r\n  data: function() {\r\n    return {\r\n      showSider: getShowSiderDefault(),\r\n      stores: null,\r\n      count: 30,\r\n      storeId: null,\r\n      extent: null,\r\n      searchPoint:null\r\n    };\r\n  },\r\n  created() {},\r\n  watch: {\r\n    count: function(value) {\r\n      var vue = this;\r\n      this.$http\r\n        .get(_searchApiUrl)\r\n        .then(function(response) {\r\n          vue.stores = filterStores(response.data.features, vue.extent)\r\n            .sort(compare(\"properties\", \"mask_adult\"))\r\n            .slice(0, value + 1);\r\n        })\r\n        .catch(function(error) {\r\n          // 请求失败处理\r\n          console.log(error);\r\n        });\r\n    }\r\n  },\r\n  methods: {\r\n    clickSiderIcon: function() {\r\n      this.showSider = true;\r\n    },\r\n    handleSiderCallback: function(value) {\r\n      this.showSider = value;\r\n    },\r\n    handleMapCallback: function(value) {\r\n      this.extent = value;\r\n      var vue = this;\r\n      this.$http\r\n        .get(_searchApiUrl)\r\n        .then(function(response) {\r\n          vue.stores = filterStores(response.data.features, value)\r\n            .sort(compare(\"properties\", \"mask_adult\"))\r\n            .slice(0, vue.count + 1);\r\n        })\r\n        .catch(function(error) {\r\n          // 请求失败处理\r\n          console.log(error);\r\n        });\r\n    },\r\n    changeCountAfter: function(value) {\r\n      this.count = Number(value);\r\n    },\r\n    clickSearchAfter: function(value) {\r\n      this.searchPoint = value;\r\n    }\r\n  }\r\n};\r\nfunction filterStores(stores, extent) {\r\n  var xmin = extent.xmin;\r\n  var xmax = extent.xmax;\r\n  var ymin = extent.ymin;\r\n  var ymax = extent.ymax;\r\n  var pointMin = proj4(proj4(\"EPSG:3857\"), proj4(\"EPSG:4326\"), [xmin, ymin]);\r\n  var pointMax = proj4(proj4(\"EPSG:3857\"), proj4(\"EPSG:4326\"), [xmax, ymax]);\r\n  var result = stores.filter(function(store) {\r\n    var y = store.geometry.coordinates[0];\r\n    var x = store.geometry.coordinates[1];\r\n    var isPass = true;\r\n    if (pointMin[0] > y || pointMax[0] < y) {\r\n      isPass = false;\r\n    }\r\n    if (pointMin[1] > x || pointMax[1] < x) {\r\n      isPass = false;\r\n    }\r\n    return isPass;\r\n  });\r\n  return result;\r\n}\r\nfunction getShowSiderDefault() {\r\n  if (screen.width > 1024) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\nfunction compare(propertyName1, propertyName2) {\r\n  return function(object1, object2) {\r\n    var value1 = object1[propertyName1][propertyName2];\r\n    var value2 = object2[propertyName1][propertyName2];\r\n    if (value2 > value1) {\r\n      return 1;\r\n    } else if (value2 < value1) {\r\n      return -1;\r\n    } else {\r\n      return 0;\r\n    }\r\n  };\r\n}\r\n</script>\r\n<style scoped>\r\n.map-container:after {\r\n  content: \"\";\r\n  display: block;\r\n  clear: both;\r\n}\r\n.map-container {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  height: calc(var(--vh, 1vh) * 100);\r\n}\r\n.map-container .sider,\r\n.map-container .map {\r\n  float: left;\r\n}\r\n.map-container .sider-icon {\r\n  border: 2px solid #668afe;\r\n  width: 35px;\r\n  line-height: 35px;\r\n  border-radius: 50%;\r\n  background-color: #fff;\r\n  text-align: center;\r\n  z-index: 3;\r\n  position: absolute;\r\n  top: 25px;\r\n  left: 25px;\r\n  font-size: 25px;\r\n  color: #668afe;\r\n}\r\n.map-container a {\r\n  text-decoration: none;\r\n}\r\n@media screen and (min-width: 1024px) {\r\n  /*電腦版*/\r\n  .map-container .sider-icon {\r\n    display: none;\r\n  }\r\n  .map-container .sider {\r\n    max-width: 400px;\r\n  }\r\n  .map-container .map {\r\n    width: 73.5%;\r\n    min-width: calc(100% - 400px);\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-container clearfix\"},[_c('div',{staticClass:\"sider-icon\",on:{\"click\":_vm.clickSiderIcon}},[_c('font-awesome-icon',{staticClass:\"color_blue icon\",attrs:{\"icon\":\"search\"}})],1),_vm._v(\" \"),_c('v-Sider',{attrs:{\"should-render\":_vm.showSider,\"count\":_vm.count,\"stores\":_vm.stores},on:{\"callback\":_vm.handleSiderCallback,\"clickStoreNameAfter\":function($event){_vm.storeId=$event},\"changeCountAfter\":_vm.changeCountAfter,\"clickSearchAfter\":_vm.clickSearchAfter}}),_vm._v(\" \"),_c('v-Map',{attrs:{\"stores\":_vm.stores,\"storeId\":_vm.storeId,\"searchPoint\":_vm.searchPoint},on:{\"callback\":_vm.handleMapCallback}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b34241ce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b34241ce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b34241ce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b34241ce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Home.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Home from '@/components/Home'\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'Home',\r\n      component: Home\r\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport {faExclamationTriangle, faSearch ,faMapMarker,faUndoAlt} from '@fortawesome/fontawesome-free-solid'\r\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\r\nimport axios from 'axios'\r\nimport VueAxios from 'vue-axios'\r\n\r\nlibrary.add(faExclamationTriangle)\r\nlibrary.add(faSearch)\r\nlibrary.add(faMapMarker)\r\nlibrary.add(faUndoAlt)\r\n\r\nVue.component('font-awesome-icon', FontAwesomeIcon)\r\n\r\nVue.config.productionTip = false\r\nVue.use(VueAxios, axios)\r\n\r\n\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = \"data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJtYXAtbWFya2VyIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtbWFwLW1hcmtlciBmYS13LTEyIiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDM4NCA1MTIiPjxwYXRoIGZpbGw9IiMxNjlDNTQiIGQ9Ik0xNzIuMjY4IDUwMS42N0MyNi45NyAyOTEuMDMxIDAgMjY5LjQxMyAwIDE5MiAwIDg1Ljk2MSA4NS45NjEgMCAxOTIgMHMxOTIgODUuOTYxIDE5MiAxOTJjMCA3Ny40MTMtMjYuOTcgOTkuMDMxLTE3Mi4yNjggMzA5LjY3LTkuNTM1IDEzLjc3NC0yOS45MyAxMy43NzMtMzkuNDY0IDB6Ij48L3BhdGg+PC9zdmc+\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/map-marker-many.svg\n// module id = ZUom\n// module chunks = 1","var map = {\n\t\"./close.svg\": \"zaOT\",\n\t\"./map-marker-current.svg\": \"CTQH\",\n\t\"./map-marker-less.svg\": \"y/c3\",\n\t\"./map-marker-many.svg\": \"ZUom\",\n\t\"./map-marker-zero.svg\": \"toKL\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"g2Y0\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images ^\\.\\/.*$\n// module id = g2Y0\n// module chunks = 1","module.exports = \"data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJtYXAtbWFya2VyIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtbWFwLW1hcmtlciBmYS13LTEyIiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDM4NCA1MTIiPjxwYXRoIGZpbGw9IiM4ODg4ODgiIGQ9Ik0xNzIuMjY4IDUwMS42N0MyNi45NyAyOTEuMDMxIDAgMjY5LjQxMyAwIDE5MiAwIDg1Ljk2MSA4NS45NjEgMCAxOTIgMHMxOTIgODUuOTYxIDE5MiAxOTJjMCA3Ny40MTMtMjYuOTcgOTkuMDMxLTE3Mi4yNjggMzA5LjY3LTkuNTM1IDEzLjc3NC0yOS45MyAxMy43NzMtMzkuNDY0IDB6Ij48L3BhdGg+PC9zdmc+\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/map-marker-zero.svg\n// module id = toKL\n// module chunks = 1","module.exports = \"data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJtYXAtbWFya2VyIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtbWFwLW1hcmtlciBmYS13LTEyIiByb2xlPSJpbWciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDM4NCA1MTIiPjxwYXRoIGZpbGw9IiNFNkRFNjAiIGQ9Ik0xNzIuMjY4IDUwMS42N0MyNi45NyAyOTEuMDMxIDAgMjY5LjQxMyAwIDE5MiAwIDg1Ljk2MSA4NS45NjEgMCAxOTIgMHMxOTIgODUuOTYxIDE5MiAxOTJjMCA3Ny40MTMtMjYuOTcgOTkuMDMxLTE3Mi4yNjggMzA5LjY3LTkuNTM1IDEzLjc3NC0yOS45MyAxMy43NzMtMzkuNDY0IDB6Ij48L3BhdGg+PC9zdmc+\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/map-marker-less.svg\n// module id = y/c3\n// module chunks = 1","module.exports = \"data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZm9jdXNhYmxlPSJmYWxzZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJ0aW1lcyIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLXRpbWVzIGZhLXctMTEiIHJvbGU9ImltZyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMzUyIDUxMiI+PHBhdGggZmlsbD0iIzU1NSIgZD0iTTI0Mi43MiAyNTZsMTAwLjA3LTEwMC4wN2MxMi4yOC0xMi4yOCAxMi4yOC0zMi4xOSAwLTQ0LjQ4bC0yMi4yNC0yMi4yNGMtMTIuMjgtMTIuMjgtMzIuMTktMTIuMjgtNDQuNDggMEwxNzYgMTg5LjI4IDc1LjkzIDg5LjIxYy0xMi4yOC0xMi4yOC0zMi4xOS0xMi4yOC00NC40OCAwTDkuMjEgMTExLjQ1Yy0xMi4yOCAxMi4yOC0xMi4yOCAzMi4xOSAwIDQ0LjQ4TDEwOS4yOCAyNTYgOS4yMSAzNTYuMDdjLTEyLjI4IDEyLjI4LTEyLjI4IDMyLjE5IDAgNDQuNDhsMjIuMjQgMjIuMjRjMTIuMjggMTIuMjggMzIuMiAxMi4yOCA0NC40OCAwTDE3NiAzMjIuNzJsMTAwLjA3IDEwMC4wN2MxMi4yOCAxMi4yOCAzMi4yIDEyLjI4IDQ0LjQ4IDBsMjIuMjQtMjIuMjRjMTIuMjgtMTIuMjggMTIuMjgtMzIuMTkgMC00NC40OEwyNDIuNzIgMjU2eiI+PC9wYXRoPjwvc3ZnPg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/close.svg\n// module id = zaOT\n// module chunks = 1"],"sourceRoot":""}